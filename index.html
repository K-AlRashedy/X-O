<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>sell</title>
    <link rel="stylesheet" href="sell.css" />
  </head>
  <body>
    <div class="score"><span class="x">0</span>:<span class="o">0</span></div>
    <div class="grid-container">
      <div onclick="type(this)" class="sell one">1</div>
      <div onclick="type(this)" class="sell two">2</div>
      <div onclick="type(this)" class="sell three">3</div>
      <div onclick="type(this)" class="sell four">4</div>
      <div onclick="type(this)" class="sell five">5</div>
      <div onclick="type(this)" class="sell six">6</div>
      <div onclick="type(this)" class="sell seven">7</div>
      <div onclick="type(this)" class="sell eight">8</div>
      <div onclick="type(this)" class="sell nine">9</div>
    </div>
    <script>
      let i = 0;
      let x = [];
      let o = [];

      function type(element) {
        numbers = [
          "zero",
          "one",
          "two",
          "three",
          "four",
          "five",
          "six",
          "seven",
          "eight",
          "nine",
        ];
        if ((element.classList[2] === "x") | (element.classList[2] === "o")) {
          return;
        }
        if (i % 2 === 0) {
          element.classList.add("o");
          o.push(numbers.indexOf(element.classList[1]));
          i++;
          if (checkwin(o)) {
            document.querySelector(".score .o").innerHTML =
              Number(document.querySelector(".score .o").innerHTML) + 1;
            clear();
          }
        } else {
          element.classList.add("x");
          x.push(numbers.indexOf(element.classList[1]));
          i++;
          if (checkwin(x)) {
            document.querySelector(".score .x").innerHTML =
              Number(document.querySelector(".score .x").innerHTML) + 1;
            clear();
          }
        }

        console.log(i);
        if (i >= 9) {
          clear();
        }
      }
      function checkwin(a) {
        let wins = [
          [1, 2, 3],
          [4, 5, 6],
          [7, 8, 9],
          [1, 4, 7],
          [2, 5, 8],
          [3, 6, 9],
          [1, 5, 9],
          [3, 5, 7],
        ];

        for (let i = 0; i < wins.length; i++) {
          if (wins[i].every((val) => a.includes(val))) {
            return true;
          }
        }
        return false;
      }
      function clear() {
        let sells = document.querySelectorAll(".sell");
        for (let sell of sells) {
          sell.classList.remove("o");
          sell.classList.remove("x");
        }
        x = [];
        o = [];
        i = 0;
      }
    </script>
  </body>
</html>
